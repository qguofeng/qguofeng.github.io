---
layout: post
title: "Mysql数据库系列四"
date: 2017-02-02  13:00:00
categories: ['数据库','Mysql']
---
```bash
友情提示:
该文章由作者QGUOFENG(http://qiuguofeng.com/)所写,欢迎指出错误一起学习
欢迎大家转载，借鉴，如果标明出处不胜感激
```
```bash
# 插入记录
mysql> -- 测试插入记录 INSERT
mysql> CREATE TABLE IF NOT EXISTS user(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> username VARCHAR(20) NOT NULL UNIQUE,
    -> password CHAR(32) NOT NULL,
    -> email VARCHAR(50) NOT NULL DEFAULT '333333@qq.com',
    -> age TINYINT UNSIGNED DEFAULT 18
    -> );
Query OK, 0 rows affected (0.51 sec)

mysql> SHOW COLUMNS FROM user;
+----------+---------------------+------+-----+---------------+----------------+
| Field    | Type                | Null | Key | Default       | Extra          |
+----------+---------------------+------+-----+---------------+----------------+
| id       | tinyint(3) unsigned | NO   | PRI | NULL          | auto_increment |
| username | varchar(20)         | NO   | UNI | NULL          |                |
| password | char(32)            | NO   |     | NULL          |                |
| email    | varchar(50)         | NO   |     | 333333@qq.com |                |
| age      | tinyint(3) unsigned | YES  |     | 18            |                |
+----------+---------------------+------+-----+---------------+----------------+
5 rows in set (0.00 sec)

mysql> INSERT INTO user VALUES(1,'KING','KING','KING@QQ.COM',20);
Query OK, 1 row affected (0.11 sec)

mysql> SHOW COLUMNS FROM user;
+----------+---------------------+------+-----+---------------+----------------+
| Field    | Type                | Null | Key | Default       | Extra          |
+----------+---------------------+------+-----+---------------+----------------+
| id       | tinyint(3) unsigned | NO   | PRI | NULL          | auto_increment |
| username | varchar(20)         | NO   | UNI | NULL          |                |
| password | char(32)            | NO   |     | NULL          |                |
| email    | varchar(50)         | NO   |     | 333333@qq.com |                |
| age      | tinyint(3) unsigned | YES  |     | 18            |                |
+----------+---------------------+------+-----+---------------+----------------+
5 rows in set (0.00 sec)

mysql> SELECT * FROM user;
+----+----------+----------+-------------+------+
| id | username | password | email       | age  |
+----+----------+----------+-------------+------+
|  1 | KING     | KING     | KING@QQ.COM |   20 |
+----+----------+----------+-------------+------+
1 row in set (0.00 sec)

mysql> INSERT user VALUES(2,'QUEEN','QUEEN','QUEEN@QQ.COM',30);
Query OK, 1 row affected (0.04 sec)

mysql> SELECT * FROM user;
+----+----------+----------+--------------+------+
| id | username | password | email        | age  |
+----+----------+----------+--------------+------+
|  1 | KING     | KING     | KING@QQ.COM  |   20 |
|  2 | QUEEN    | QUEEN    | QUEEN@QQ.COM |   30 |
+----+----------+----------+--------------+------+
2 rows in set (0.00 sec)

mysql> INSERT user(username,password) VALUES('A','AAA');
Query OK, 1 row affected (0.07 sec)

mysql> INSERT user(password,username) VALUES('B','BBB');
Query OK, 1 row affected (0.06 sec)

mysql> SELECT * FROM user;
+----+----------+----------+---------------+------+
| id | username | password | email         | age  |
+----+----------+----------+---------------+------+
|  1 | KING     | KING     | KING@QQ.COM   |   20 |
|  2 | QUEEN    | QUEEN    | QUEEN@QQ.COM  |   30 |
|  3 | A        | AAA      | 333333@qq.com |   18 |
|  4 | BBB      | B        | 333333@qq.com |   18 |
+----+----------+----------+---------------+------+
4 rows in set (0.00 sec)

mysql> INSERT user VALUES(5,'C','CCC','C@QQ.COM',35),(6,'D','DDD','D@QQ.COM',11),(7,'F','FFF','FF@QQ.COM',11);
Query OK, 3 rows affected (0.08 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM user;
+----+----------+----------+---------------+------+
| id | username | password | email         | age  |
+----+----------+----------+---------------+------+
|  1 | KING     | KING     | KING@QQ.COM   |   20 |
|  2 | QUEEN    | QUEEN    | QUEEN@QQ.COM  |   30 |
|  3 | A        | AAA      | 333333@qq.com |   18 |
|  4 | BBB      | B        | 333333@qq.com |   18 |
|  5 | C        | CCC      | C@QQ.COM      |   35 |
|  6 | D        | DDD      | D@QQ.COM      |   11 |
|  7 | F        | FFF      | FF@QQ.COM     |   11 |
+----+----------+----------+---------------+------+
7 rows in set (0.00 sec)

#使用INSERT SET形式插入记录
mysql> -- 使用INSERT SET形式插入记录

mysql> INSERT INTO user SET id=98,username='test',password='this is a test',email='123@qq.com',age=48;
Query OK, 1 row affected (0.06 sec)

mysql> SELECT * FROM user;
+----+----------+----------------+---------------+------+
| id | username | password       | email         | age  |
+----+----------+----------------+---------------+------+
|  1 | KING     | KING           | KING@QQ.COM   |   20 |
|  2 | QUEEN    | QUEEN          | QUEEN@QQ.COM  |   30 |
|  3 | A        | AAA            | 333333@qq.com |   18 |
|  4 | BBB      | B              | 333333@qq.com |   18 |
|  5 | C        | CCC            | C@QQ.COM      |   35 |
|  6 | D        | DDD            | D@QQ.COM      |   11 |
|  7 | F        | FFF            | FF@QQ.COM     |   11 |
| 98 | test     | this is a test | 123@qq.com    |   48 |
+----+----------+----------------+---------------+------+
8 rows in set (0.00 sec)

mysql> INSERT user SET username='MAIZI',password='hahahah';
Query OK, 1 row affected (0.07 sec)

mysql> SELECT * FROM user;
+----+----------+----------------+---------------+------+
| id | username | password       | email         | age  |
+----+----------+----------------+---------------+------+
|  1 | KING     | KING           | KING@QQ.COM   |   20 |
|  2 | QUEEN    | QUEEN          | QUEEN@QQ.COM  |   30 |
|  3 | A        | AAA            | 333333@qq.com |   18 |
|  4 | BBB      | B              | 333333@qq.com |   18 |
|  5 | C        | CCC            | C@QQ.COM      |   35 |
|  6 | D        | DDD            | D@QQ.COM      |   11 |
|  7 | F        | FFF            | FF@QQ.COM     |   11 |
| 98 | test     | this is a test | 123@qq.com    |   48 |
| 99 | MAIZI    | hahahah        | 333333@qq.com |   18 |
+----+----------+----------------+---------------+------+
9 rows in set (0.00 sec)

mysql> CREATE TABLE IF NOT EXISTS testUser(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> username VARCHAR(20) NOT NULL UNIQUE
    -> );
Query OK, 0 rows affected (0.39 sec)

mysql> DESC testUser;
+----------+---------------------+------+-----+---------+----------------+
| Field    | Type                | Null | Key | Default | Extra          |
+----------+---------------------+------+-----+---------+----------------+
| id       | tinyint(3) unsigned | NO   | PRI | NULL    | auto_increment |
| username | varchar(20)         | NO   | UNI | NULL    |                |
+----------+---------------------+------+-----+---------+----------------+
2 rows in set (0.01 sec)

mysql> INSERT testUser SELECT id,username FROM user;
Query OK, 9 rows affected (0.07 sec)
Records: 9  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM testUser;
+----+----------+
| id | username |
+----+----------+
|  3 | A        |
|  4 | BBB      |
|  5 | C        |
|  6 | D        |
|  7 | F        |
|  1 | KING     |
| 99 | MAIZI    |
|  2 | QUEEN    |
| 98 | test     |
+----+----------+
9 rows in set (0.00 sec)

mysql> SELECT * FROM user;
+----+----------+----------------+---------------+------+
| id | username | password       | email         | age  |
+----+----------+----------------+---------------+------+
|  1 | KING     | KING           | KING@QQ.COM   |   20 |
|  2 | QUEEN    | QUEEN          | QUEEN@QQ.COM  |   30 |
|  3 | A        | AAA            | 333333@qq.com |   18 |
|  4 | BBB      | B              | 333333@qq.com |   18 |
|  5 | C        | CCC            | C@QQ.COM      |   35 |
|  6 | D        | DDD            | D@QQ.COM      |   11 |
|  7 | F        | FFF            | FF@QQ.COM     |   11 |
| 98 | test     | this is a test | 123@qq.com    |   48 |
| 99 | MAIZI    | hahahah        | 333333@qq.com |   18 |
+----+----------+----------------+---------------+------+
9 rows in set (0.00 sec)

#测试更新数据
mysql> -- 测试更新数据

mysql> #用户表中所有的用户年龄更新为15

mysql> UPDATE user SET age=5;
Query OK, 9 rows affected (0.08 sec)
Rows matched: 9  Changed: 9  Warnings: 0

mysql> SELECT * FROM user;
+----+----------+----------------+---------------+------+
| id | username | password       | email         | age  |
+----+----------+----------------+---------------+------+
|  1 | KING     | KING           | KING@QQ.COM   |    5 |
|  2 | QUEEN    | QUEEN          | QUEEN@QQ.COM  |    5 |
|  3 | A        | AAA            | 333333@qq.com |    5 |
|  4 | BBB      | B              | 333333@qq.com |    5 |
|  5 | C        | CCC            | C@QQ.COM      |    5 |
|  6 | D        | DDD            | D@QQ.COM      |    5 |
|  7 | F        | FFF            | FF@QQ.COM     |    5 |
| 98 | test     | this is a test | 123@qq.com    |    5 |
| 99 | MAIZI    | hahahah        | 333333@qq.com |    5 |
+----+----------+----------------+---------------+------+
9 rows in set (0.00 sec)

mysql> UPDATE user SET age=50,email='teset@qq.com';
Query OK, 9 rows affected (0.08 sec)
Rows matched: 9  Changed: 9  Warnings: 0

mysql> SELECT * FROM user;
+----+----------+----------------+--------------+------+
| id | username | password       | email        | age  |
+----+----------+----------------+--------------+------+
|  1 | KING     | KING           | teset@qq.com |   50 |
|  2 | QUEEN    | QUEEN          | teset@qq.com |   50 |
|  3 | A        | AAA            | teset@qq.com |   50 |
|  4 | BBB      | B              | teset@qq.com |   50 |
|  5 | C        | CCC            | teset@qq.com |   50 |
|  6 | D        | DDD            | teset@qq.com |   50 |
|  7 | F        | FFF            | teset@qq.com |   50 |
| 98 | test     | this is a test | teset@qq.com |   50 |
| 99 | MAIZI    | hahahah        | teset@qq.com |   50 |
+----+----------+----------------+--------------+------+
9 rows in set (0.00 sec)

#将第一条记录的password,email,age
mysql> -- 将第一条记录的password ,email ,age

mysql> UPDATE user SET password='KING123',eamil='123@QQ.COM',age=99 WHERE id=1;
ERROR 1054 (42S22): Unknown column 'eamil' in 'field list'
mysql> -- 将第一条记录的password ,email ,age

mysql> UPDATE user SET password='KING123',email='123@QQ.COM',age=99 WHERE id=1;
Query OK, 1 row affected (0.07 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> SELECT * FROM user;
+----+----------+----------------+--------------+------+
| id | username | password       | email        | age  |
+----+----------+----------------+--------------+------+
|  1 | KING     | KING123        | 123@QQ.COM   |   99 |
|  2 | QUEEN    | QUEEN          | teset@qq.com |   50 |
|  3 | A        | AAA            | teset@qq.com |   50 |
|  4 | BBB      | B              | teset@qq.com |   50 |
|  5 | C        | CCC            | teset@qq.com |   50 |
|  6 | D        | DDD            | teset@qq.com |   50 |
|  7 | F        | FFF            | teset@qq.com |   50 |
| 98 | test     | this is a test | teset@qq.com |   50 |
| 99 | MAIZI    | hahahah        | teset@qq.com |   50 |
+----+----------+----------------+--------------+------+
9 rows in set (0.00 sec)

mysql> UPDATE user SET age=age-5 WHERE id>=3;
Query OK, 7 rows affected (0.07 sec)
Rows matched: 7  Changed: 7  Warnings: 0

mysql> SELECT * FROM user;
+----+----------+----------------+--------------+------+
| id | username | password       | email        | age  |
+----+----------+----------------+--------------+------+
|  1 | KING     | KING123        | 123@QQ.COM   |   99 |
|  2 | QUEEN    | QUEEN          | teset@qq.com |   50 |
|  3 | A        | AAA            | teset@qq.com |   45 |
|  4 | BBB      | B              | teset@qq.com |   45 |
|  5 | C        | CCC            | teset@qq.com |   45 |
|  6 | D        | DDD            | teset@qq.com |   45 |
|  7 | F        | FFF            | teset@qq.com |   45 |
| 98 | test     | this is a test | teset@qq.com |   45 |
| 99 | MAIZI    | hahahah        | teset@qq.com |   45 |
+----+----------+----------------+--------------+------+
9 rows in set (0.00 sec)

mysql> UPDATE user SET age=DEFAULT WHERE username='A';
Query OK, 1 row affected (0.07 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> SELECT * FROM user;
+----+----------+----------------+--------------+------+
| id | username | password       | email        | age  |
+----+----------+----------------+--------------+------+
|  1 | KING     | KING123        | 123@QQ.COM   |   99 |
|  2 | QUEEN    | QUEEN          | teset@qq.com |   50 |
|  3 | A        | AAA            | teset@qq.com |   18 |
|  4 | BBB      | B              | teset@qq.com |   45 |
|  5 | C        | CCC            | teset@qq.com |   45 |
|  6 | D        | DDD            | teset@qq.com |   45 |
|  7 | F        | FFF            | teset@qq.com |   45 |
| 98 | test     | this is a test | teset@qq.com |   45 |
| 99 | MAIZI    | hahahah        | teset@qq.com |   45 |
+----+----------+----------------+--------------+------+
9 rows in set (0.00 sec)

mysql> UPDATE user SET age=DEFAULT WHERE username='A';
Query OK, 0 rows affected (0.06 sec)
Rows matched: 1  Changed: 0  Warnings: 0

mysql> SELECT * FROM user;
+----+----------+----------------+--------------+------+
| id | username | password       | email        | age  |
+----+----------+----------------+--------------+------+
|  1 | KING     | KING123        | 123@QQ.COM   |   99 |
|  2 | QUEEN    | QUEEN          | teset@qq.com |   50 |
|  3 | A        | AAA            | teset@qq.com |   18 |
|  4 | BBB      | B              | teset@qq.com |   45 |
|  5 | C        | CCC            | teset@qq.com |   45 |
|  6 | D        | DDD            | teset@qq.com |   45 |
|  7 | F        | FFF            | teset@qq.com |   45 |
| 98 | test     | this is a test | teset@qq.com |   45 |
| 99 | MAIZI    | hahahah        | teset@qq.com |   45 |
+----+----------+----------------+--------------+------+
9 rows in set (0.00 sec)

#删除数据
mysql> -- 删除记录testUser表中的记录

mysql> 
mysql> DELETE FROM testUser;
Query OK, 9 rows affected (0.07 sec)

mysql> -- 删除user表中id=1的记录

mysql> 
mysql> DELETE FROM user WHERE id=1;
Query OK, 1 row affected (0.08 sec)

mysql> 
mysql> SELECT * FROM user;
+----+----------+----------------+--------------+------+
| id | username | password       | email        | age  |
+----+----------+----------------+--------------+------+
|  2 | QUEEN    | QUEEN          | teset@qq.com |   50 |
|  3 | A        | AAA            | teset@qq.com |   18 |
|  4 | BBB      | B              | teset@qq.com |   45 |
|  5 | C        | CCC            | teset@qq.com |   45 |
|  6 | D        | DDD            | teset@qq.com |   45 |
|  7 | F        | FFF            | teset@qq.com |   45 |
| 98 | test     | this is a test | teset@qq.com |   45 |
| 99 | MAIZI    | hahahah        | teset@qq.com |   45 |
+----+----------+----------------+--------------+------+
8 rows in set (0.00 sec)

#清空数据
mysql>  -- 彻底清空数据表，同时重置自曾长

mysql> TRUNCATE TABLE user;
Query OK, 0 rows affected (0.31 sec)

mysql> SELECT * FROM user;
Empty set (0.00 sec)
######################################################################################
####################################################################################
#创建数据库cms
mysql> CREATE DATABASE IF NOT EXISTS cms DEFAULT CHARACTER SET utf8;
Query OK, 1 row affected (0.00 sec)

mysql> USE cms;
Database changed
#创建管理员表cms_admin
mysql> -- 管理员表cms_admin

mysql> CREATE TABLE cms_admin(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> username VARCHAR(20) NOT NULL UNIQUE,
    -> password CHAR(32) NOT NULL,
    -> email VARCHAR(50) NOT NULL DEFAULT 'admin@qq.com',
    -> role ENUM('普通管理员','超级管理员') DEFAULT '普通管理员'
    -> );
Query OK, 0 rows affected (0.42 sec)

mysql> INSERT cms_admin(username,password,email,role) VALUES('admin','admin','admin@qq.com','超级管理员');

Query OK, 1 row affected (0.08 sec)

mysql> INSERT cms_admin(username,password) VALUES('king','king'),
    -> ('麦子','maizi'),
    -> ('queen','queen'),
    -> ('test','test');
Query OK, 4 rows affected (0.10 sec)
Records: 4  Duplicates: 0  Warnings: 0

#创建分类表cms_cate
mysql> -- 创建分类表cms_cate

mysql> CREATE TABLE cms_cate(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> cateName VARCHAR(50) NOT NULL UNIQUE,
    -> cateDesc VARCHAR(200) NOT NULL DEFAULT ''
    -> );
Query OK, 0 rows affected (0.40 sec)

mysql> INSERT cms_cate(cateName,cateDesc) VALUES('国内新闻','聚焦当今最热的国内新闻'),
    -> ('国际新闻','聚焦当今最热的国际新闻'),
    -> ('体育新闻','聚焦当今最热的体育新闻'),
    -> ('军事新闻','聚焦当今最热的军事新闻'),
    -> ('教育新闻','聚焦当今最热的教育新闻');
Query OK, 5 rows affected (0.07 sec)
Records: 5  Duplicates: 0  Warnings: 0

#创建新闻表cms_news
mysql> -- 创建新闻表cms_news

mysql> CREATE TABLE cms_news(
    -> id INT UNSIGNED AUTO_INCREMENT KEY,
    -> title VARCHAR(50) NOT NULL UNIQUE,
    -> content TEXT,
    -> clickNum INT UNSIGNED DEFAULT 0,
    -> pubTime INT UNSIGNED,
    -> cId TINYINT UNSIGNED NOT NULL COMMENT '新闻所属分类，对应分类表中的id',
    -> aId TINYINT UNSIGNED NOT NULL COMMENT '那个管理员发布的，对应管理员表中的id');

Query OK, 0 rows affected (0.61 sec)

#创建身份表provinces
mysql> -- 创建身份表provinces

mysql> CREATE TABLE provinces(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> proName VARCHAR(10) NOT NULL UNIQUE);
Query OK, 0 rows affected (0.38 sec)

mysql> INSERT provinces(proName) VALUES('北京'),
    -> ('上海'),
    -> ('深圳'),
    -> ('广州'),
    -> ('重庆');

Query OK, 5 rows affected (0.07 sec)
Records: 5  Duplicates: 0  Warnings: 0

#创建用户表cms_user
mysql> -- 创建用户表cms_user

mysql> CREATE TABLE cms_user(
    -> id INT UNSIGNED AUTO_INCREMENT KEY,
    -> username VARCHAR(20) NOT NULL UNIQUE,
    -> password CHAR(32) NOT NULL,
    -> email VARCHAR(50) NOT NULL DEFAULT 'user@qq.com',
    -> regTime INT UNSIGNED NOT NULL,
    -> face VARCHAR(100) NOT NULL DEFAULT 'user.jpg',
    -> proId TINYINT UNSIGNED NOT NULL COMMENT '用户所属省份');

Query OK, 0 rows affected (0.40 sec)

mysql> INSERT cms_user(username,password,regTime,proId) VALUES('张三','zhangsan',1419811708,1),
    -> ('张三丰','zhangsanfeng',1419812708,2),
    -> ('章子怡','zhangziyi',1419813708,2),
    -> ('long','long',1419814708,4),
    -> ('ring','ring',1419815708,2),
    -> ('queen','queen',1419861708,3),
    -> ('king','king',1419817708,5),
    -> ('blek','blek',1419818708,1);
Query OK, 8 rows affected (0.07 sec)
Records: 8  Duplicates: 0  Warnings: 0

#查询管理员表cms_admin中的所有数据
mysql> SELECT * FROM cms_admin;
+----+----------+----------+--------------+-----------------+
| id | username | password | email        | role            |
+----+----------+----------+--------------+-----------------+
|  1 | admin    | admin    | admin@qq.com | 超级管理员      |
|  2 | king     | king     | admin@qq.com | 普通管理员      |
|  3 | 麦子     | maizi    | admin@qq.com | 普通管理员      |
|  4 | queen    | queen    | admin@qq.com | 普通管理员      |
|  5 | test     | test     | admin@qq.com | 普通管理员      |
+----+----------+----------+--------------+-----------------+
5 rows in set (0.00 sec)

mysql> SELECT cms_admin.* FROM cms_admin;
+----+----------+----------+--------------+-----------------+
| id | username | password | email        | role            |
+----+----------+----------+--------------+-----------------+
|  1 | admin    | admin    | admin@qq.com | 超级管理员      |
|  2 | king     | king     | admin@qq.com | 普通管理员      |
|  3 | 麦子     | maizi    | admin@qq.com | 普通管理员      |
|  4 | queen    | queen    | admin@qq.com | 普通管理员      |
|  5 | test     | test     | admin@qq.com | 普通管理员      |
+----+----------+----------+--------------+-----------------+
5 rows in set (0.00 sec)

mysql> DESC cms_admin;
+----------+-------------------------------------------+------+-----+-----------------+----------------+
| Field    | Type                                      | Null | Key | Default         | Extra          |
+----------+-------------------------------------------+------+-----+-----------------+----------------+
| id       | tinyint(3) unsigned                       | NO   | PRI | NULL            | auto_increment |
| username | varchar(20)                               | NO   | UNI | NULL            |                |
| password | char(32)                                  | NO   |     | NULL            |                |
| email    | varchar(50)                               | NO   |     | admin@qq.com    |                |
| role     | enum('普通管理员','超级管理员')           | YES  |     | 普通管理员      |                |
+----------+-------------------------------------------+------+-----+-----------------+----------------+
5 rows in set (0.00 sec)

#查询管理员的名字
mysql> -- 查询管理员的名字

mysql> SELECT cms_admin.username FROM cms_admin;
+----------+
| username |
+----------+
| admin    |
| king     |
| queen    |
| test     |
| 麦子     |
+----------+
5 rows in set (0.00 sec)

#查询管理员的编号和名称
mysql> -- 查询管理员的编号和名称
mysql> SELECT username,id,role FROM cms_admin;
+----------+----+-----------------+
| username | id | role            |
+----------+----+-----------------+
| admin    |  1 | 超级管理员      |
| king     |  2 | 普通管理员      |
| 麦子     |  3 | 普通管理员      |
| queen    |  4 | 普通管理员      |
| test     |  5 | 普通管理员      |
+----------+----+-----------------+
5 rows in set (0.00 sec)

#字段查询
mysql> SELECT cms_admin.username,cms_admin.id FROM cms_admin;
+----------+----+
| username | id |
+----------+----+
| admin    |  1 |
| king     |  2 |
| queen    |  4 |
| test     |  5 |
| 麦子     |  3 |
+----------+----+
5 rows in set (0.00 sec)

#表来自那个数据库下db_name.tbl_name
mysql> -- 表来自那个数据库下dn_name.tbl_name

mysql> SELECT id,username,role FROM cms.cms_admin;
+----+----------+-----------------+
| id | username | role            |
+----+----------+-----------------+
|  1 | admin    | 超级管理员      |
|  2 | king     | 普通管理员      |
|  3 | 麦子     | 普通管理员      |
|  4 | queen    | 普通管理员      |
|  5 | test     | 普通管理员      |
+----+----------+-----------------+
5 rows in set (0.00 sec)

#给表起别名
mysql> -- 给表明起别名

mysql> SELECT id,username FROM cms_admin AS a;
+----+----------+
| id | username |
+----+----------+
|  1 | admin    |
|  2 | king     |
|  4 | queen    |
|  5 | test     |
|  3 | 麦子     |
+----+----------+
5 rows in set (0.00 sec)

mysql> SELECT a.id,a.username FROM cms_admin AS a;
+----+----------+
| id | username |
+----+----------+
|  1 | admin    |
|  2 | king     |
|  4 | queen    |
|  5 | test     |
|  3 | 麦子     |
+----+----------+
5 rows in set (0.01 sec)

#给字段取别名
mysql> -- 给字段起别名

mysql> SELECT id AS '编号',username AS '用户名',email AS '邮箱',role AS '角色' FROM cms_admin;

+--------+-----------+--------------+-----------------+
| 编号   | 用户名    | 邮箱         | 角色            |
+--------+-----------+--------------+-----------------+
|      1 | admin     | admin@qq.com | 超级管理员      |
|      2 | king      | admin@qq.com | 普通管理员      |
|      3 | 麦子      | admin@qq.com | 普通管理员      |
|      4 | queen     | admin@qq.com | 普通管理员      |
|      5 | test      | admin@qq.com | 普通管理员      |
+--------+-----------+--------------+-----------------+
5 rows in set (0.00 sec)
#############################################################################################
############################################################################################

#WHERE条件查询
mysql>  SELECT id,username,email FROM cms_user WHERE id=1;
+----+----------+-------------+
| id | username | email       |
+----+----------+-------------+
|  1 | 张三     | user@qq.com |
+----+----------+-------------+
1 row in set (0.00 sec)

mysql>  SELECT id,username,email FROM cms_user WHERE id=111;
Empty set (0.00 sec)

mysql> SELECT * FROM cms_user;
+----+-----------+--------------+-------------+------------+----------+-------+
| id | username  | password     | email       | regTime    | face     | proId |
+----+-----------+--------------+-------------+------------+----------+-------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |
+----+-----------+--------------+-------------+------------+----------+-------+
8 rows in set (0.00 sec)

mysql> SELECT id,username,email FROM cms_user WHERE username='king';
+----+----------+-------------+
| id | username | email       |
+----+----------+-------------+
|  7 | king     | user@qq.com |
+----+----------+-------------+
1 row in set (0.00 sec)

mysql> SELECT id,username,email FROM cms_user WHERE username='kingSSS';
Empty set (0.00 sec)

mysql> SELECT * FROM cms_user WHERE id>=5;
+----+----------+----------+-------------+------------+----------+-------+
| id | username | password | email       | regTime    | face     | proId |
+----+----------+----------+-------------+------------+----------+-------+
|  5 | ring     | ring     | user@qq.com | 1419815708 | user.jpg |     2 |
|  6 | queen    | queen    | user@qq.com | 1419861708 | user.jpg |     3 |
|  7 | king     | king     | user@qq.com | 1419817708 | user.jpg |     5 |
|  8 | blek     | blek     | user@qq.com | 1419818708 | user.jpg |     1 |
+----+----------+----------+-------------+------------+----------+-------+
4 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user WHERE id!=1;
+----+-----------+--------------+-------------+------------+----------+-------+
| id | username  | password     | email       | regTime    | face     | proId |
+----+-----------+--------------+-------------+------------+----------+-------+
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |
+----+-----------+--------------+-------------+------------+----------+-------+
7 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user WHERE id!=1;
+----+-----------+--------------+-------------+------------+----------+-------+
| id | username  | password     | email       | regTime    | face     | proId |
+----+-----------+--------------+-------------+------------+----------+-------+
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |
+----+-----------+--------------+-------------+------------+----------+-------+
7 rows in set (0.00 sec)

#添加age字段
mysql> -- 添加age字段

mysql> ALTER TABLE cms_uesr ADD age TINYINT UNSIGNED DEFAULT 18;
ERROR 1146 (42S02): Table 'cms.cms_uesr' doesn't exist
mysql> ALTER TABLE cms_user ADD age TINYINT UNSIGNED DEFAULT 18;
Query OK, 0 rows affected (0.79 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM cms_user;
+----+-----------+--------------+-------------+------------+----------+-------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  |
+----+-----------+--------------+-------------+------------+----------+-------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   18 |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   18 |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   18 |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   18 |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   18 |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   18 |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   18 |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   18 |
+----+-----------+--------------+-------------+------------+----------+-------+------+
8 rows in set (0.00 sec)

mysql> INSERT cms_user(username,password,regTime,proId,age) VALUES('test1','test1',1419811708,1,NULL);
Query OK, 1 row affected (0.09 sec)

mysql> SELECT * FROM cms_user WHERE age IS NULL;
+----+----------+----------+-------------+------------+----------+-------+------+
| id | username | password | email       | regTime    | face     | proId | age  |
+----+----------+----------+-------------+------------+----------+-------+------+
|  9 | test1    | test1    | user@qq.com | 1419811708 | user.jpg |     1 | NULL |
+----+----------+----------+-------------+------------+----------+-------+------+
1 row in set (0.00 sec)

#查询表中记录age值为NULL为NULL的

mysql> -- 查询表中记录age值为NULL的

mysql> 
mysql> SELECT * FROM cms_user WHERE age IS NULL;
+----+----------+----------+-------------+------------+----------+-------+------+
| id | username | password | email       | regTime    | face     | proId | age  |
+----+----------+----------+-------------+------------+----------+-------+------+
|  9 | test1    | test1    | user@qq.com | 1419811708 | user.jpg |     1 | NULL |
+----+----------+----------+-------------+------------+----------+-------+------+
1 row in set (0.00 sec)

#查询编号在3-10之间的用户
mysql> 
mysql> -- 查询编号在3-10之间的用户

mysql> 
mysql> SELECT * FROM cms_user WHERE id NOT BETWEEN 3 AND 10;
+----+-----------+--------------+-------------+------------+----------+-------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  |
+----+-----------+--------------+-------------+------------+----------+-------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   18 | |  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   18 |
+----+-----------+--------------+-------------+------------+----------+-------+------+
2 rows in set (0.00 sec)

#查询编号为1,3,5,7,9,11
mysql> -- 查询编号为1,3,5,7,9,11

mysql> 
mysql> SELECT * FROM cms_user WHERE id IN (1,3,5,7,9);
+----+-----------+-----------+-------------+------------+----------+-------+------+
| id | username  | password  | email       | regTime    | face     | proId | age  |
+----+-----------+-----------+-------------+------------+----------+-------+------+
|  1 | 张三      | zhangsan  | user@qq.com | 1419811708 | user.jpg |     1 |   18 |
|  3 | 章子怡    | zhangziyi | user@qq.com | 1419813708 | user.jpg |     2 |   18 |
|  5 | ring      | ring      | user@qq.com | 1419815708 | user.jpg |     2 |   18 |
|  7 | king      | king      | user@qq.com | 1419817708 | user.jpg |     5 |   18 |
|  9 | test1     | test1     | user@qq.com | 1419811708 | user.jpg |     1 | NULL |
+----+-----------+-----------+-------------+------------+----------+-------+------+
5 rows in set (0.00 sec)

#查询姓张的用户
mysql> -- 查询姓张的用户

mysql> SELECT * FROM cms_user WHERE username LIKE '张%';

+----+-----------+--------------+-------------+------------+----------+-------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  |
+----+-----------+--------------+-------------+------------+----------+-------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   18 |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   18 |
+----+-----------+--------------+-------------+------------+----------+-------+------+
2 rows in set (0.00 sec)

#查询用户名中包含in的用户
mysql> -- 查询用户名中包含in的用户

mysql> SELECT * FROM cms_user WHERE username LIKE '%in%';
+----+----------+----------+-------------+------------+----------+-------+------+
| id | username | password | email       | regTime    | face     | proId | age  |
+----+----------+----------+-------------+------------+----------+-------+------+
|  5 | ring     | ring     | user@qq.com | 1419815708 | user.jpg |     2 |   18 |
|  7 | king     | king     | user@qq.com | 1419817708 | user.jpg |     5 |   18 |
+----+----------+----------+-------------+------------+----------+-------+------+
2 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user WHERE username LIKE '%';
+----+-----------+--------------+-------------+------------+----------+-------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  |
+----+-----------+--------------+-------------+------------+----------+-------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   18 |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   18 |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   18 |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   18 |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   18 |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   18 |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   18 |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   18 |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL |
+----+-----------+--------------+-------------+------------+----------+-------+------+
9 rows in set (0.00 sec)

#查询用户名4为的用户
mysql> -- 查询用户名4为的用户

mysql> 
mysql> SELECT * FROM cms_user WHERE username LIKE '____';
+----+----------+----------+-------------+------------+----------+-------+------+
| id | username | password | email       | regTime    | face     | proId | age  |
+----+----------+----------+-------------+------------+----------+-------+------+
|  4 | long     | long     | user@qq.com | 1419814708 | user.jpg |     4 |   18 |
|  5 | ring     | ring     | user@qq.com | 1419815708 | user.jpg |     2 |   18 |
|  7 | king     | king     | user@qq.com | 1419817708 | user.jpg |     5 |   18 |
|  8 | blek     | blek     | user@qq.com | 1419818708 | user.jpg |     1 |   18 |
+----+----------+----------+-------------+------------+----------+-------+------+
4 rows in set (0.00 sec)

#查询用户名为king并且密码为king 的用户
mysql> -- 查询用户名为king并且密码为king 的用户

mysql> SELECT * FROM cmsuser WHERE username='king' AND password='king';
ERROR 1146 (42S02): Table 'cms.cmsuser' doesn't exist
mysql> 

#查询用户名为king并且密码为king 的用户
mysql> -- 查询用户名为king并且密码为king 的用户

mysql> SELECT * FROM cms_user WHERE username='king' AND password='king';
+----+----------+----------+-------------+------------+----------+-------+------+
| id | username | password | email       | regTime    | face     | proId | age  |
+----+----------+----------+-------------+------------+----------+-------+------+
|  7 | king     | king     | user@qq.com | 1419817708 | user.jpg |     5 |   18 |
+----+----------+----------+-------------+------------+----------+-------+------+
1 row in set (0.00 sec)


#查询编号大于等于3的变量年龄不为NULL的用户
mysql> -- 查询编号大于等于3的变量年龄不为NULL的用户

mysql> 
mysql> SELECT * FROM cms_user WHERE id>=3 AND age IS NOT NULL;
+----+-----------+-----------+-------------+------------+----------+-------+------+
| id | username  | password  | email       | regTime    | face     | proId | age  |
+----+-----------+-----------+-------------+------------+----------+-------+------+
|  3 | 章子怡    | zhangziyi | user@qq.com | 1419813708 | user.jpg |     2 |   18 |
|  4 | long      | long      | user@qq.com | 1419814708 | user.jpg |     4 |   18 |
|  5 | ring      | ring      | user@qq.com | 1419815708 | user.jpg |     2 |   18 |
|  6 | queen     | queen     | user@qq.com | 1419861708 | user.jpg |     3 |   18 |
|  7 | king      | king      | user@qq.com | 1419817708 | user.jpg |     5 |   18 |
|  8 | blek      | blek      | user@qq.com | 1419818708 | user.jpg |     1 |   18 |
+----+-----------+-----------+-------------+------------+----------+-------+------+
6 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user WHERE id>=3 AND age IS NOT NULL AND proId=3;
+----+----------+----------+-------------+------------+----------+-------+------+
| id | username | password | email       | regTime    | face     | proId | age  |
+----+----------+----------+-------------+------------+----------+-------+------+
|  6 | queen    | queen    | user@qq.com | 1419861708 | user.jpg |     3 |   18 |
+----+----------+----------+-------------+------------+----------+-------+------+
1 row in set (0.00 sec)

#查询编号在5-10的用户并且用户名为4位的用户
mysql> -- 查询编号在5-10的用户并且用户名为4位的用户

mysql> 
mysql> SELECT * FROM cms_user WHERE id BETWEEN 5 AND 10 AND username LIKE '____';
+----+----------+----------+-------------+------------+----------+-------+------+
| id | username | password | email       | regTime    | face     | proId | age  |
+----+----------+----------+-------------+------------+----------+-------+------+
|  5 | ring     | ring     | user@qq.com | 1419815708 | user.jpg |     2 |   18 |
|  7 | king     | king     | user@qq.com | 1419817708 | user.jpg |     5 |   18 |
|  8 | blek     | blek     | user@qq.com | 1419818708 | user.jpg |     1 |   18 |
+----+----------+----------+-------------+------------+----------+-------+------+
3 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user WHERE username LIKE '张%' OR proId IN (2,4);

+----+-----------+--------------+-------------+------------+----------+-------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  |
+----+-----------+--------------+-------------+------------+----------+-------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   18 |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   18 |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   18 |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   18 |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   18 |
+----+-----------+--------------+-------------+------------+----------+-------+------+
5 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user;
+----+-----------+--------------+-------------+------------+----------+-------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  |
+----+-----------+--------------+-------------+------------+----------+-------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   18 |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   18 |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   18 |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   18 |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   18 |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   18 |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   18 |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   18 |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL |
+----+-----------+--------------+-------------+------------+----------+-------+------+
9 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user GROUP BY proId;
mysql> SELECT * FROM cms_user GROUP BY proId;
mysql> SELECT * FROM cms_user GROUP BY id;
+----+-----------+--------------+-------------+------------+----------+-------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  |
+----+-----------+--------------+-------------+------------+----------+-------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   18 |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   18 |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   18 |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   18 |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   18 |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   18 |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   18 |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   18 |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL |
+----+-----------+--------------+-------------+------------+----------+-------+------+
9 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user GROUP BY proId;

#向用户表中添加新别
mysql> -- 向用户表中添加性别

mysql> 
mysql> ALTER TABLE cms_user ADD sex ENUM('男','女','保密');

Query OK, 0 rows affected (1.05 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> SELECT * FOM cms_user;
mysql> SELECT * FROM cms_user;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   18 | NULL |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   18 | NULL |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   18 | NULL |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   18 | NULL |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   18 | NULL |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   18 | NULL |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   18 | NULL |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   18 | NULL |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | NULL |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
9 rows in set (0.00 sec)

mysql> UPDATE cms_user SET sex='男' WHERE id IN(1,3,5,7,9);

Query OK, 5 rows affected (0.10 sec)
Rows matched: 5  Changed: 5  Warnings: 0

mysql> SELECT * FROM cms_user;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   18 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   18 | NULL |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   18 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   18 | NULL |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   18 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   18 | NULL |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   18 | 男   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   18 | NULL |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
9 rows in set (0.00 sec)

mysql> UPDATE cms_user SET sex='女' WHERE id IN(2,4,6,8);

Query OK, 4 rows affected (0.06 sec)
Rows matched: 4  Changed: 4  Warnings: 0

mysql> SELECT * FROM cms_user;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   18 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   18 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   18 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   18 | 女   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   18 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   18 | 女   |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   18 | 男   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   18 | 女   |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
9 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user GROUP BY sex;
mysql> SELECT * FROM cms_user GROUP BY sex;
mysql> SELECT * FROM cms_user GROUP BY 7;

#查询编号大于等于5的用户按照sex分组
mysql> -- 查询编号大于等于5的用户按照sex分组

mysql> 
mysql> SELECT * FROM cms_user WHERE id>=5 GROUP BY sex;
mysql> SELECT DATABASE();
+------------+
| DATABASE() |
+------------+
| cms        |
+------------+
1 row in set (0.00 sec)

#查询id,sex,,用户详情按照性别分组

mysql> SELECT id,sex,GROUP_CONCAT(username) FROM cms_user GROUP BY sex;
+----+------+----------------------------------+
| id | sex  | GROUP_CONCAT(username)           |
+----+------+----------------------------------+
|  1 | 男   | 张三,章子怡,ring,king,test1      |
|  2 | 女   | 张三丰,long,queen,blek           |
+----+------+----------------------------------+
2 rows in set (0.00 sec)

#查询proId,性别详情，注册时间详情，用户名详情，安装proI
mysql> -- 查询proId,性别详情，注册时间详情，用户名详情，安装proId

mysql> SELECT proId,GROUP_CONCAT(sex),GROUP_CONCAT(regTime),GROUP_CONCAT(username) FROM cms_user GROUP BY proId;
+-------+-------------------+----------------------------------+--------------------------+
| proId | GROUP_CONCAT(sex) | GROUP_CONCAT(regTime)            | GROUP_CONCAT(username)   |
+-------+-------------------+----------------------------------+--------------------------+
|     1 | 男,女,男          | 1419811708,1419818708,1419811708 | 张三,blek,test1          |
|     2 | 女,男,男          | 1419812708,1419813708,1419815708 | 张三丰,章子怡,ring       |
|     3 | 女                | 1419861708                       | queen                    |
|     4 | 女                | 1419814708                       | long                     |
|     5 | 男                | 1419817708                       | king                     |
+-------+-------------------+----------------------------------+--------------------------+
5 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   18 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   18 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   18 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   18 | 女   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   18 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   18 | 女   |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   18 | 男   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   18 | 女   |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
9 rows in set (0.00 sec)

#更新年龄
mysql> UPDATE cms_user SET age=11 WHERE id=1;
mysql> UPDATE cms_user SET age=21 WHERE id=2;
mysql> UPDATE cms_user SET age=33 WHERE id=3;
mysql> UPDATE cms_user SET age=44 WHERE id=4;
mysql> UPDATE cms_user SET age=55 WHERE id=5;
mysql> UPDATE cms_user SET age=66 WHERE id=6;
mysql> UPDATE cms_user SET age=77 WHERE id=7;
mysql> UPDATE cms_user SET age=88 WHERE id=8;


ysql> SELECT * FROM cms_user;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   11 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   21 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   33 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   44 | 女   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   55 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   77 | 男   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   88 | 女   |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
9 rows in set (0.00 sec)


#查询编号,sex,用户名详情及组中总人数按照sex分组
mysql> -- 查询编号,sex,用户名详情及组中总人数按照sex分组

mysql> SELECT id,sex,GROUP_CONCAT(username),COUNT(id) FROM cms_user GROUP BY sex;
+----+------+----------------------------------+-----------+
| id | sex  | GROUP_CONCAT(username)           | COUNT(id) |
+----+------+----------------------------------+-----------+
|  1 | 男   | 张三,章子怡,ring,king,test1      |         5 |
|  2 | 女   | 张三丰,long,queen,blek           |         4 |
+----+------+----------------------------------+-----------+
2 rows in set (0.01 sec)

#查询编号,sex,用户名详情及组中总人数按照sex分组
mysql>  -- 查询编号,sex,用户名详情及组中总人数按照sex分组

mysql> SELECT id,sex,GROUP_CONCAT(username) AS user,COUNT(id) AS totalUsers FROM cms_user GROUP BY sex;
+----+------+----------------------------------+------------+
| id | sex  | user                             | totalUsers |
+----+------+----------------------------------+------------+
|  1 | 男   | 张三,章子怡,ring,king,test1      |          5 |
|  2 | 女   | 张三丰,long,queen,blek           |          4 |
+----+------+----------------------------------+------------+
2 rows in set (0.00 sec)

#统计表中的所有记录
mysql> -- 统计表中的所有记录
mysql> SELECT COUNT(*) FROM cms_user;
+----------+
| COUNT(*) |
+----------+
|        9 |
+----------+
1 row in set (0.00 sec)

mysql> SELECT COUNT(id) FROM cms_user;
+-----------+
| COUNT(id) |
+-----------+
|         9 |
+-----------+
1 row in set (0.00 sec)

#COUNT(字段) 不统计NULL值
mysql> -- COUNT(字段) 不统计NULL值

mysql> SELECT COUNT(age) FROM cms_user;
+------------+
| COUNT(age) |
+------------+
|          8 |
+------------+
1 row in set (0.00 sec)

# 查询编号，性别，用户名详情，组中总人数，组中最大年龄，最小年龄，平均年龄，年龄总和按照性别分组
mysql> -- 查询编号，性别，用户名详情，组中总人数，组中最大年龄，最小年龄，平均年龄，年龄总和按照性别分组 
mysql> SELECT id,sex,GROUP_CONCAT(username) AS username,COUNT(*) AS total,MAX(age),MIN(age),AVG(age),SUM(age)
    -> FROM cms_user GROUP BY sex;
+----+------+----------------------------------+-------+----------+----------+----------+----------+
| id | sex  | username                         | total | MAX(age) | MIN(age) | AVG(age) | SUM(age) |
+----+------+----------------------------------+-------+----------+----------+----------+----------+
|  1 | 男   | 张三,章子怡,ring,king,test1      |     5 |       77 |       11 |  44.0000 |      176 |
|  2 | 女   | 张三丰,long,queen,blek           |     4 |       88 |       21 |  54.7500 |      219 |
+----+------+----------------------------------+-------+----------+----------+----------+----------+
2 rows in set (0.01 sec)

#WITH ROLLUP
mysql> -- WITH ROLLUP
mysql> 
mysql> SELECT id,sex,GROUP_CONCAT(username) AS username,COUNT(*) AS total,MAX(age),MIN(age),AVG(age),SUM(age)
    -> FROM cms_user GROUP BY sex WITH ROLLUP;
+----+------+------------------------------------------------------------+-------+----------+----------+----------+----------+
| id | sex  | username                                                   | total | MAX(age) | MIN(age) | AVG(age) | SUM(age) |
+----+------+------------------------------------------------------------+-------+----------+----------+----------+----------+
|  1 | 男   | 张三,章子怡,ring,king,test1                                |     5 |       77 |       11 |  44.0000 |      176 |
|  2 | 女   | 张三丰,long,queen,blek                                     |     4 |       88 |       21 |  54.7500 |      219 |
|  2 | NULL | 张三,章子怡,ring,king,test1,张三丰,long,queen,blek         |     9 |       88 |       11 |  49.3750 |      395 |
+----+------+------------------------------------------------------------+-------+----------+----------+----------+----------+
3 rows in set (0.00 sec)

mysql> SELECT id,sex,COUNT(*) AS total,MAX(age),MIN(age),AVG(age),SUM(age)
    -> FROM cms_user GROUP BY sex WITH ROLLUP;
+----+------+-------+----------+----------+----------+----------+
| id | sex  | total | MAX(age) | MIN(age) | AVG(age) | SUM(age) |
+----+------+-------+----------+----------+----------+----------+
|  1 | 男   |     5 |       77 |       11 |  44.0000 |      176 |
|  2 | 女   |     4 |       88 |       21 |  54.7500 |      219 |
|  2 | NULL |     9 |       88 |       11 |  49.3750 |      395 |
+----+------+-------+----------+----------+----------+----------+
3 rows in set (0.00 sec)

#查询性别sex,用户名详情，组中总人数，最大年龄，年龄总和,根据性别分组
mysql> -- 查询性别sex,用户名详情，组中总人数，最大年龄，年龄总和,根据性别分组
#查询组中人数大于2的
mysql> -- 查询组中人数大于2的

mysql> 
mysql> SELECT sex,GROUP_CONCAT(username) AS user,
    -> COUNT(*) AS total,
    -> MAX(age) AS max_age,
    -> SUM(age) sum_age
    -> FROM cms_user GROUP BY sex
    -> HAVING COUNT(*)>2;
+------+----------------------------------+-------+---------+---------+
| sex  | user                             | total | max_age | sum_age |
+------+----------------------------------+-------+---------+---------+
| 男   | 张三,章子怡,ring,king,test1      |     5 |      77 |     176 |
| 女   | 张三丰,long,queen,blek           |     4 |      88 |     219 |
+------+----------------------------------+-------+---------+---------+
2 rows in set (0.00 sec)

#查询组中人数大于2的并且最大年龄大于60的
mysql> -- 查询组中人数大于2的并且最大年龄大于60的

mysql> 
mysql> SELECT sex,GROUP_CONCAT(username) AS user,
    -> COUNT(*) AS total,
    -> MAX(age) AS max_age,
    -> SUM(age) sum_age
    -> FROM cms_user GROUP BY sex
    -> HAVING COUNT(*)>2 AND MAX(age)>60;
+------+----------------------------------+-------+---------+---------+
| sex  | user                             | total | max_age | sum_age |
+------+----------------------------------+-------+---------+---------+
| 男   | 张三,章子怡,ring,king,test1      |     5 |      77 |     176 |
| 女   | 张三丰,long,queen,blek           |     4 |      88 |     219 |
+------+----------------------------------+-------+---------+---------+
2 rows in set (0.00 sec)

#按照id降序排序DESC默认ASC
mysql> -- 按照id降序排序DESC默认ASC

mysql> 
mysql> SELECT * FROM cms_user ORDER BY id;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   11 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   21 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   33 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   44 | 女   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   55 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   77 | 男   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   88 | 女   |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
9 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user ORDER BY id ASC;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   11 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   21 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   33 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   44 | 女   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   55 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   77 | 男   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   88 | 女   |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
9 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user ORDER BY id DESC;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   88 | 女   |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   77 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   55 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   44 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   33 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   21 | 女   |
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   11 | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
9 rows in set (0.00 sec)

mysql> DESC cms_user;
+----------+----------------------------+------+-----+-------------+----------------+
| Field    | Type                       | Null | Key | Default     | Extra          |
+----------+----------------------------+------+-----+-------------+----------------+
| id       | int(10) unsigned           | NO   | PRI | NULL        | auto_increment |
| username | varchar(20)                | NO   | UNI | NULL        |                |
| password | char(32)                   | NO   |     | NULL        |                |
| email    | varchar(50)                | NO   |     | user@qq.com |                |
| regTime  | int(10) unsigned           | NO   |     | NULL        |                |
| face     | varchar(100)               | NO   |     | user.jpg    |                |
| proId    | tinyint(3) unsigned        | NO   |     | NULL        |                |
| age      | tinyint(3) unsigned        | YES  |     | 18          |                |
| sex      | enum('男','女','保密')     | YES  |     | NULL        |                |
+----------+----------------------------+------+-----+-------------+----------------+
9 rows in set (0.00 sec)

#按照年龄升序ASC，id降序DESC
mysql> -- 按照年龄升序ASC，id降序DESC

mysql> 
mysql> SELECT * FROM cms_user ORDER BY age ASC,id DESC;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   11 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   21 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   33 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   44 | 女   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   55 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   77 | 男   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   88 | 女   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
9 rows in set (0.00 sec)

#实现数据随机
mysql>  -- 实现数据随机

mysql> SELECT * FROM cms_user ORDER BY RAND();
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   88 | 女   |
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   11 | 男   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   55 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   21 | 女   |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   33 | 男   |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   77 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   44 | 女   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
9 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user ORDER BY RAND();
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   55 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   33 | 男   |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   77 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   21 | 女   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   88 | 女   |
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   11 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   44 | 女   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
9 rows in set (0.00 sec)

#通过limit限制查询结果
mysql> -- 通过limit限制查询结果
#查询表中的前3条记录
mysql> -- 查询表中的前3条记录

mysql> SELECT * FROM cms_user LIMIT 3;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   11 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   21 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   33 | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
3 rows in set (0.00 sec)

#查询表中的倒3条记录
mysql> -- 查询表中的倒3条记录

mysql> SELECT * FROM cms_user ORDER BY id DESC LIMIT 3;
+----+----------+----------+-------------+------------+----------+-------+------+------+
| id | username | password | email       | regTime    | face     | proId | age  | sex  |
+----+----------+----------+-------------+------------+----------+-------+------+------+
|  9 | test1    | test1    | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
|  8 | blek     | blek     | user@qq.com | 1419818708 | user.jpg |     1 |   88 | 女   |
|  7 | king     | king     | user@qq.com | 1419817708 | user.jpg |     5 |   77 | 男   |
+----+----------+----------+-------------+------------+----------+-------+------+------+
3 rows in set (0.00 sec)

#查询记录的吓一跳
mysql> -- 查询记录的吓一跳

mysql> SELECT * FROM cms_user LIMIT 0,3;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   11 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   21 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   33 | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
3 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user LIMIT 3,3;
+----+----------+----------+-------------+------------+----------+-------+------+------+
| id | username | password | email       | regTime    | face     | proId | age  | sex  |
+----+----------+----------+-------------+------------+----------+-------+------+------+
|  4 | long     | long     | user@qq.com | 1419814708 | user.jpg |     4 |   44 | 女   |
|  5 | ring     | ring     | user@qq.com | 1419815708 | user.jpg |     2 |   55 | 男   |
|  6 | queen    | queen    | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
+----+----------+----------+-------------+------------+----------+-------+------+------+
3 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user LIMIT 6,3;
+----+----------+----------+-------------+------------+----------+-------+------+------+
| id | username | password | email       | regTime    | face     | proId | age  | sex  |
+----+----------+----------+-------------+------------+----------+-------+------+------+
|  7 | king     | king     | user@qq.com | 1419817708 | user.jpg |     5 |   77 | 男   |
|  8 | blek     | blek     | user@qq.com | 1419818708 | user.jpg |     1 |   88 | 女   |
|  9 | test1    | test1    | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+----------+----------+-------------+------------+----------+-------+------+------+
3 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   11 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   21 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   33 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   44 | 女   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   55 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   77 | 男   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   88 | 女   |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
9 rows in set (0.00 sec)

#更新用户名为4的用户，让其已有年龄-3
mysql> -- 更新用户名为4的用户，让其已有年龄-3

mysql> UPDATE cms_user SET age=age-3 WHERE username LIKE '';
Query OK, 4 rows affected (0.04 sec)
Rows matched: 4  Changed: 4  Warnings: 0

mysql> SELECT * FROM cms_user;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   11 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   21 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   33 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   41 | 女   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   52 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   74 | 男   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   85 | 女   |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
9 rows in set (0.00 sec)

#更新前三条记录让已有的记录+10(不可以设置偏移量)
mysql> -- 更新前三条记录让已有的记录+10(不可以设置偏移量)

mysql> UPDATE cms_user SET age=age+10 LIMIT 3;
Query OK, 3 rows affected (0.04 sec)
Rows matched: 3  Changed: 3  Warnings: 0

mysql> SELECT * FROM cms_user;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   21 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   31 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   43 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   41 | 女   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   52 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   74 | 男   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   85 | 女   |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
9 rows in set (0.00 sec)

#按照id降序排序，更新前3条
mysql> -- 按照id降序排序，更新前3条

mysql> UPDATE cms_user SET age=age+10 ORDER BY id DESC LIMIT 3;
Query OK, 2 rows affected (0.05 sec)
Rows matched: 3  Changed: 2  Warnings: 0

mysql> SELECT * FROM cms_user;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   21 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   31 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   43 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   41 | 女   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   52 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
|  7 | king      | king         | user@qq.com | 1419817708 | user.jpg |     5 |   84 | 男   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   95 | 女   |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
9 rows in set (0.00 sec)

#删除用户性别为男的用户，按照年龄降序排列，删除前一条记录
mysql> -- 删除用户性别为男的用户，按照年龄降序排列，删除前一条记录

mysql> DELETE FROM cms_user WHERE sex='男' ORDER BY age DESC LIMIT 1;

Query OK, 1 row affected (0.05 sec)

mysql> SELECT * FROM cms_user;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   21 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   31 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   43 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   41 | 女   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   52 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   95 | 女   |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
8 rows in set (0.01 sec)
```
