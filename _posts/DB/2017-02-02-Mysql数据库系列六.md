---
layout: post
title: "Mysql数据库系列六"
date: 2017-02-02  13:00:00
categories: ['数据库','Mysql']
---
```bash
友情提示:
该文章由作者QGUOFENG(http://qiuguofeng.com/)所写,欢迎指出错误一起学习
欢迎大家转载，借鉴，如果标明出处不胜感激
```


```bash
# 插入主表(department)子表(employee)
mysql> CREATE TABLE IF NOT EXISTS department(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> depName VARCHAR(20) NOT NULL UNIQUE
    -> )ENGINE=INNODB;
Query OK, 0 rows affected, 1 warning (0.00 sec)
mysql> INSERT department(depName) VALUES('教学部'),
    -> ('市场部'),
    -> ('运营部'),
    -> ('督导部');
Query OK, 4 rows affected (0.05 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql> CREATE TABLE IF NOT EXISTS employee(
    -> id SMALLINT UNSIGNED AUTO_INCREMENT KEY,
    -> username VARCHAR(20) NOT NULL UNIQUE,
    -> depId TINYINT UNSIGNED
    -> )ENGINE=INNODB;
Query OK, 0 rows affected (0.40 sec)

mysql> INSERT employee(username,depId) VALUES('KING',1),
    -> ('QUEEN',2),('KKKK',3),('KJKJK',4);
Query OK, 4 rows affected (0.08 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM department;
+----+-----------+
| id | depName   |
+----+-----------+
|  2 | 市场部    |
|  1 | 教学部    |
|  4 | 督导部    |
|  3 | 运营部    |
+----+-----------+
4 rows in set (0.00 sec)

mysql> SELECT * FROM employee;
+----+----------+-------+
| id | username | depId |
+----+----------+-------+
|  1 | KING     |     1 |
|  2 | QUEEN    |     2 |
|  3 | KKKK     |     3 |
|  4 | KJKJK    |     4 |
+----+----------+-------+
4 rows in set (0.00 sec)

mysql> SELECT id,username FROM employee WHERE depId IN (SELECT id FROM department);
+----+----------+
| id | username |
+----+----------+
|  1 | KING     |
|  2 | QUEEN    |
|  3 | KKKK     |
|  4 | KJKJK    |
+----+----------+
4 rows in set (0.00 sec)

#创建学员表student
#id username score
mysql> -- 创建学员表student

mysql> -- id username score
mysql> CREATE TABLE IF NOT EXISTS student(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> username VARCHAR(20) NOT NULL UNIQUE,
    -> score TINYINT UNSIGNED
    -> );
Query OK, 0 rows affected (0.40 sec)

mysql> INSERT student(username,score) VALUES('KING1',95),('KING2',95),('KING3',95),('KING4',85),('KING5',75),
    -> ('KING6',65),('KING7',55),('KING8',45),('KING9',35);
Query OK, 9 rows affected (0.05 sec)
Records: 9  Duplicates: 0  Warnings: 0

#创建奖学金scholarship
#id level
mysql> CREATE TABLE IF NOT EXISTS scholarship(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> level TINYINT UNSIGNED
    -> );
Query OK, 0 rows affected (0.44 sec)

mysql> INSERT scholarship(level) VALUES(90),(80),(70);
Query OK, 3 rows affected (0.06 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM student;
+----+----------+-------+
| id | username | score |
+----+----------+-------+
|  1 | KING1    |    95 |
|  2 | KING2    |    95 |
|  3 | KING3    |    95 |
|  4 | KING4    |    85 |
|  5 | KING5    |    75 |
|  6 | KING6    |    65 |
|  7 | KING7    |    55 |
|  8 | KING8    |    45 |
|  9 | KING9    |    35 |
+----+----------+-------+
9 rows in set (0.00 sec)

mysql> SELECT * FROM scholarship;
+----+-------+
| id | level |
+----+-------+
|  1 |    90 |
|  2 |    80 |
|  3 |    70 |
+----+-------+
3 rows in set (0.00 sec)

# 查询获得1等奖学金的学员有

mysql> SELECT level FROM scholarship WHERE id=1;
+-------+
| level |
+-------+
|    90 |
+-------+
1 row in set (0.00 sec)

mysql> SELECT id,username FROM student WHERE score>=90;
+----+----------+
| id | username |
+----+----------+
|  1 | KING1    |
|  2 | KING2    |
|  3 | KING3    |
+----+----------+
3 rows in set (0.00 sec)

mysql> SELECT id,username FROM student WHERE score>=(SELECT level FROM scholarship WHERE id=1);
+----+----------+
| id | username |
+----+----------+
|  1 | KING1    |
|  2 | KING2    |
|  3 | KING3    |
+----+----------+
3 rows in set (0.00 sec)

#[NOT] EXISTS
#查询部门表

mysql> SELECT * FROM department WHERE id=5;
Empty set (0.00 sec)

mysql> SELECT id,username FROM employee WHERE EXISTS(SELECT * FROM department WHERE id=5);
Empty set (0.00 sec)

#查询所有获得奖学金的学员

mysql> SELECT id,username FROM student WHERE score>=ANY(SELECT level FROM scholarship);
+----+----------+
| id | username |
+----+----------+
|  1 | KING1    |
|  2 | KING2    |
|  3 | KING3    |
|  4 | KING4    |
|  5 | KING5    |
+----+----------+
5 rows in set (0.00 sec)

mysql> SELECT id,username,score FROM student WHERE score>=ANY(SELECT level FROM scholarship);
+----+----------+-------+
| id | username | score |
+----+----------+-------+
|  1 | KING1    |    95 |
|  2 | KING2    |    95 |
|  3 | KING3    |    95 |
|  4 | KING4    |    85 |
|  5 | KING5    |    75 |
+----+----------+-------+
5 rows in set (0.00 sec)

#查询获得1等奖的学员(大于最大值)

mysql> SELECT id,username,score FROM student WHERE score>=ALL(SELECT level FROM scholarship);
+----+----------+-------+
| id | username | score |
+----+----------+-------+
|  1 | KING1    |    95 |
|  2 | KING2    |    95 |
|  3 | KING3    |    95 |
+----+----------+-------+
3 rows in set (0.00 sec)

#查询没有获得奖学金的学员(小于最小值)

mysql> SELECT id,username,score FROM student WHERE score<ALL(SELECT level FROM scholarship);
+----+----------+-------+
| id | username | score |
+----+----------+-------+
|  6 | KING6    |    65 |
|  7 | KING7    |    55 |
|  8 | KING8    |    45 |
|  9 | KING9    |    35 |
+----+----------+-------+
4 rows in set (0.00 sec)

mysql> CREATE TABLE IF NOT EXISTS test1(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> num TINYINT UNSIGNED
    -> );
Query OK, 0 rows affected (0.34 sec)

mysql> INSERT test1(id,num) SELECT id,score FROM student;
Query OK, 9 rows affected (0.07 sec)
Records: 9  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM test1;
+----+------+
| id | num  |
+----+------+
|  1 |   95 |
|  2 |   95 |
|  3 |   95 |
|  4 |   85 |
|  5 |   75 |
|  6 |   65 |
|  7 |   55 |
|  8 |   45 |
|  9 |   35 |
+----+------+
9 rows in set (0.00 sec)

#创建表的同时将其他表的查询结果当成数据插入

mysql> CREATE TABLE IF NOT EXISTS test2(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> num TINYINT UNSIGNED
    -> )SELECT id,score FROM student;
Query OK, 9 rows affected (0.45 sec)
Records: 9  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM test2;
+------+----+-------+
| num  | id | score |
+------+----+-------+
| NULL |  1 |    95 |
| NULL |  2 |    95 |
| NULL |  3 |    95 |
| NULL |  4 |    85 |
| NULL |  5 |    75 |
| NULL |  6 |    65 |
| NULL |  7 |    55 |
| NULL |  8 |    45 |
| NULL |  9 |    35 |
+------+----+-------+
9 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   21 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   31 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   43 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   41 | 女   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   52 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   95 | 女   |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
8 rows in set (0.00 sec)

#正则表达式
#^匹配字符开始的部分
#查询用户名以t开头的用户

mysql> SELECT * FROM cms_user WHERE username REGEXP '^t';
+----+----------+----------+-------------+------------+----------+-------+------+------+
| id | username | password | email       | regTime    | face     | proId | age  | sex  |
+----+----------+----------+-------------+------------+----------+-------+------+------+
|  9 | test1    | test1    | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+----------+----------+-------------+------------+----------+-------+------+------+
1 row in set (0.01 sec)

#$匹配字符结束的部分
#查询用户名以g结尾的用户(不区分大小写）
mysql> SELECT * FROM cms_user WHERE username REGEXP 'g$';
+----+----------+----------+-------------+------------+----------+-------+------+------+
| id | username | password | email       | regTime    | face     | proId | age  | sex  |
+----+----------+----------+-------------+------------+----------+-------+------+------+
|  4 | long     | long     | user@qq.com | 1419814708 | user.jpg |     4 |   41 | 女   |
|  5 | ring     | ring     | user@qq.com | 1419815708 | user.jpg |     2 |   52 | 男   |
+----+----------+----------+-------------+------------+----------+-------+------+------+
2 rows in set (0.00 sec)

#.匹配任意字符

mysql> SELECT * FROM cms_user WHERE username REGEXP '.';
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   21 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   31 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   43 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   41 | 女   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   52 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   95 | 女   |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
8 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user WHERE username REGEXP 'r.g';
Empty set (0.00 sec)

mysql> SELECT * FROM cms_user WHERE username REGEXP 'r..g';
+----+----------+----------+-------------+------------+----------+-------+------+------+
| id | username | password | email       | regTime    | face     | proId | age  | sex  |
+----+----------+----------+-------------+------------+----------+-------+------+------+
|  5 | ring     | ring     | user@qq.com | 1419815708 | user.jpg |     2 |   52 | 男   |
+----+----------+----------+-------------+------------+----------+-------+------+------+
1 row in set (0.00 sec)

mysql> SELECT * FROM cms_user WHERE username REGEXP 'r..G';
+----+----------+----------+-------------+------------+----------+-------+------+------+
| id | username | password | email       | regTime    | face     | proId | age  | sex  |
+----+----------+----------+-------------+------------+----------+-------+------+------+
|  5 | ring     | ring     | user@qq.com | 1419815708 | user.jpg |     2 |   52 | 男   |
+----+----------+----------+-------------+------------+----------+-------+------+------+
1 row in set (0.00 sec)

#[] 匹配字符集

mysql> SELECT * FROM cms_user WHERE username REGEXP '[LTO]';
+----+----------+----------+-------------+------------+----------+-------+------+------+
| id | username | password | email       | regTime    | face     | proId | age  | sex  |
+----+----------+----------+-------------+------------+----------+-------+------+------+
|  4 | long     | long     | user@qq.com | 1419814708 | user.jpg |     4 |   41 | 女   |
|  8 | blek     | blek     | user@qq.com | 1419818708 | user.jpg |     1 |   95 | 女   |
|  9 | test1    | test1    | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+----------+----------+-------------+------------+----------+-------+------+------+
3 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user WHERE username REGEXP '[^LTO]';
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   21 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   31 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   43 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   41 | 女   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   52 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   95 | 女   |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
8 rows in set (0.00 sec)

#| 匹配

mysql> SELECT * FROM cms_user WHERE username REGEXP 'NG|QU';
+----+----------+----------+-------------+------------+----------+-------+------+------+
| id | username | password | email       | regTime    | face     | proId | age  | sex  |
+----+----------+----------+-------------+------------+----------+-------+------+------+
|  4 | long     | long     | user@qq.com | 1419814708 | user.jpg |     4 |   41 | 女   |
|  5 | ring     | ring     | user@qq.com | 1419815708 | user.jpg |     2 |   52 | 男   |
|  6 | queen    | queen    | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
+----+----------+----------+-------------+------------+----------+-------+------+------+
3 rows in set (0.00 sec)

#* 匹配前面的字符0,1,多次

mysql> SELECT * FROM cms_user WHERE username REGEXP 'QUE*';
+----+----------+----------+-------------+------------+----------+-------+------+------+
| id | username | password | email       | regTime    | face     | proId | age  | sex  |
+----+----------+----------+-------------+------------+----------+-------+------+------+
|  6 | queen    | queen    | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
+----+----------+----------+-------------+------------+----------+-------+------+------+
1 row in set (0.00 sec)

#+ 匹配前面的字符1,多次

mysql> SELECT * FROM cms_user WHERE username REGEXP 'T+';
+----+----------+----------+-------------+------------+----------+-------+------+------+
| id | username | password | email       | regTime    | face     | proId | age  | sex  |
+----+----------+----------+-------------+------------+----------+-------+------+------+
|  9 | test1    | test1    | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+----------+----------+-------------+------------+----------+-------+------+------+
1 row in set (0.00 sec)

#{m} 匹配前面的字符m次

mysql> SELECT * FROM cms_user WHERE username REGEXP 'que{2}';
+----+----------+----------+-------------+------------+----------+-------+------+------+
| id | username | password | email       | regTime    | face     | proId | age  | sex  |
+----+----------+----------+-------------+------------+----------+-------+------+------+
|  6 | queen    | queen    | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
+----+----------+----------+-------------+------------+----------+-------+------+------+
1 row in set (0.00 sec)

mysql> SELECT * FROM cms_user WHERE username REGEXP 'que{1}';
+----+----------+----------+-------------+------------+----------+-------+------+------+
| id | username | password | email       | regTime    | face     | proId | age  | sex  |
+----+----------+----------+-------------+------------+----------+-------+------+------+
|  6 | queen    | queen    | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
+----+----------+----------+-------------+------------+----------+-------+------+------+
1 row in set (0.00 sec)

mysql> SELECT * FROM cms_user WHERE username REGEXP 'que{3}';
Empty set (0.01 sec)

#{1,3} 匹配前面的字符最少1次最多3次

mysql> -- {1,3} 匹配前面的字符最少1次最多3次

mysql> SELECT * FROM cms_user WHERE username REGEXP 'que{1,3}';
+----+----------+----------+-------------+------------+----------+-------+------+------+
| id | username | password | email       | regTime    | face     | proId | age  | sex  |
+----+----------+----------+-------------+------------+----------+-------+------+------+
|  6 | queen    | queen    | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
+----+----------+----------+-------------+------------+----------+-------+------+------+
1 row in set (0.00 sec)

mysql> -- 当前系统时间

mysql> SELECT VERSION();
+-------------------------+
| VERSION()               |
+-------------------------+
| 5.7.17-0ubuntu0.16.10.1 |
+-------------------------+
1 row in set (0.00 sec)

mysql> -- 当前系统版本

mysql> SELECT NOW();
+---------------------+
| NOW()               |
+---------------------+
| 2017-02-15 12:51:14 |
+---------------------+
1 row in set (0.02 sec)

mysql> --进1取整

    -> SELECT CEIL(1.2),CEILING(1.2);\c
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '--进1取整

SELECT CEIL(1.2),CEILING(1.2)' at line 1
mysql> -- 进1取整

mysql> SELECT CEIL(1.2),CEILING(1.2);
+-----------+--------------+
| CEIL(1.2) | CEILING(1.2) |
+-----------+--------------+
|         2 |            2 |
+-----------+--------------+
1 row in set (0.00 sec)

mysql> -- 舍1取整 FLOOR

mysql> SELECT FLOOR(1.2);
+------------+
| FLOOR(1.2) |
+------------+
|          1 |
+------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- 取余数 MOD

mysql> SELECT MOD(8,3);
+----------+
| MOD(8,3) |
+----------+
|        2 |
+----------+
1 row in set (0.00 sec)

mysql> -- 幂运算 POWER

mysql> SELECT POWER(2,3);
+------------+
| POWER(2,3) |
+------------+
|          8 |
+------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- 四舍五入 ROUND

mysql> SELECT ROUND(3.6),ROUND(3.1);
+------------+------------+
| ROUND(3.6) | ROUND(3.1) |
+------------+------------+
|          4 |          3 |
+------------+------------+
1 row in set (0.01 sec)

mysql> 
mysql> --  数字截取 TRUNCATE()

mysql> SELECT TRUNCATE(3.1341414,2);
+-----------------------+
| TRUNCATE(3.1341414,2) |
+-----------------------+
|                  3.13 |
+-----------------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- 取绝对值ABS()

mysql> SELECT ABS(-1);
+---------+
| ABS(-1) |
+---------+
|       1 |
+---------+
1 row in set (0.00 sec)

mysql> 
mysql> -- 圆周率 PI()

mysql> SELECT PI();
+----------+
| PI()     |
+----------+
| 3.141593 |
+----------+
1 row in set (0.00 sec)

mysql> 
mysql> -- 随机数 RAND(),RAND(X)

mysql> SELECT RAND(),RAND(10);
+--------------------+--------------------+
| RAND()             | RAND(10)           |
+--------------------+--------------------+
| 0.6833199231730028 | 0.6570515219653505 |
+--------------------+--------------------+
1 row in set (0.00 sec)

mysql> -- 返回符号 SIGN(X)

mysql> SELECT SIGN(1),SIGN(0),SIGN(-1);
+---------+---------+----------+
| SIGN(1) | SIGN(0) | SIGN(-1) |
+---------+---------+----------+
|       1 |       0 |       -1 |
+---------+---------+----------+
1 row in set (0.00 sec)

mysql> 
mysql> -- 计算e的几次方

mysql> SELECT EXP(3);
+--------------------+
| EXP(3)             |
+--------------------+
| 20.085536923187668 |
+--------------------+
1 row in set (0.00 sec)

mysql> -- 返回字符串的字符数CHAR_LENGTH(S)

mysql> -- 返回字符串的长度 LENGTH

mysql> SELECT CHAR_LENGTH('AAA'),LENGTH('AAA');
+--------------------+---------------+
| CHAR_LENGTH('AAA') | LENGTH('AAA') |
+--------------------+---------------+
|                  3 |             3 |
+--------------------+---------------+
1 row in set (0.00 sec)

mysql> SELECT CHAR_LENGTH('啊'),LENGTH('啊');

+--------------------+---------------+
| CHAR_LENGTH('啊')  | LENGTH('啊')  |
+--------------------+---------------+
|                  1 |             3 |
+--------------------+---------------+
1 row in set (0.00 sec)

mysql> -- 将字符串合并为一个字符串 CONCAT(S1,S2,...)

mysql> SELECT CONCAT('HELLO ','WORLD');
+--------------------------+
| CONCAT('HELLO ','WORLD') |
+--------------------------+
| HELLO WORLD              |
+--------------------------+
1 row in set (0.02 sec)

mysql> -- 以指定分隔符链接字符串  CONCAT(X,S1,S2,S3,..)

mysql> SELECT CONCAT('-.-=','HHH','BBB');
+----------------------------+
| CONCAT('-.-=','HHH','BBB') |
+----------------------------+
| -.-=HHHBBB                 |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT CONCAT_WS('-.-=','HHH','BBB');
+-------------------------------+
| CONCAT_WS('-.-=','HHH','BBB') |
+-------------------------------+
| HHH-.-=BBB                    |
+-------------------------------+
1 row in set (0.00 sec)

mysql> -- 将字符串转换为大写 UPPER(S)/UCASE(S)

mysql> SELECT UPPER('this is a test'),UCASE('hahaha');
+-------------------------+-----------------+
| UPPER('this is a test') | UCASE('hahaha') |
+-------------------------+-----------------+
| THIS IS A TEST          | HAHAHA          |
+-------------------------+-----------------+
1 row in set (0.00 sec)

mysql> -- 将字符串转换为小写 LOWER(S)/LCASE(S)

mysql> SELECT LOWER('THIS IS A TEST'),LCASE('THIS IS A TEST');
+-------------------------+-------------------------+
| LOWER('THIS IS A TEST') | LCASE('THIS IS A TEST') |
+-------------------------+-------------------------+
| this is a test          | this is a test          |
+-------------------------+-------------------------+
1 row in set (0.00 sec)

mysql> -- 返回字符串的前/后n个字符 LEFT(S,N)/RIGHT(S,N)

mysql> SELECT LEFT('ABCDEF',2),RIGHT('ABACDEF',2);
+------------------+--------------------+
| LEFT('ABCDEF',2) | RIGHT('ABACDEF',2) |
+------------------+--------------------+
| AB               | EF                 |
+------------------+--------------------+
1 row in set (0.00 sec)

mysql> -- 将字符串s1用s2填充到指定的LEN LPAD(S1,LEN,S3)   RPAD(S1,LEN,S3)

mysql> SELECT LPAD('A',5,'?'),RPAD('A',5,'!');
+-----------------+-----------------+
| LPAD('A',5,'?') | RPAD('A',5,'!') |
+-----------------+-----------------+
| ????A           | A!!!!           |
+-----------------+-----------------+
1 row in set (0.00 sec)

mysql> -- 去掉字符串中的空格 LTRIM(S)/RTRIM(S)/TRIM(S)

mysql> SELECT CONCAT('-',TRIM(' ABC '),'-'),CONCAT('-',LTRIM(' ABC '),'-'),CONCAT('-',RTRIM(' ABC '),'-');
+-------------------------------+--------------------------------+--------------------------------+
| CONCAT('-',TRIM(' ABC '),'-') | CONCAT('-',LTRIM(' ABC '),'-') | CONCAT('-',RTRIM(' ABC '),'-') |
+-------------------------------+--------------------------------+--------------------------------+
| -ABC-                         | -ABC -                         | - ABC-                         |
+-------------------------------+--------------------------------+--------------------------------+
1 row in set (0.00 sec)

mysql> -- 去掉字符串中开始处和结束处的字符串s1  TRIM(S1 FROM S)

mysql> SELECT TRIM('A' FROM 'ABCBCA');
+-------------------------+
| TRIM('A' FROM 'ABCBCA') |
+-------------------------+
| BCBC                    |
+-------------------------+
1 row in set (0.00 sec)

mysql> -- 重复字符串指定次数 REPEAT(S,N)

mysql> SELECT REPEAT('AAA',2);
+-----------------+
| REPEAT('AAA',2) |
+-----------------+
| AAAAAA          |
+-----------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- 返回N个空格 SPACE（N）

mysql> SELECT CONCAT('-',SPACE(5),'-');
+--------------------------+
| CONCAT('-',SPACE(5),'-') |
+--------------------------+
| -     -                  |
+--------------------------+
1 row in set (0.00 sec)

mysql>  -- 将字符串s中搜索s1,替换成s2 REPLACE()

mysql> SELECT REPLACE('ABCABCABC','A','-');
+------------------------------+
| REPLACE('ABCABCABC','A','-') |
+------------------------------+
| -BC-BC-BC                    |
+------------------------------+
1 row in set (0.00 sec)

mysql> -- 将字符串s中搜索s1,替换成s2 REPLACE()

mysql> SELECT REPLACE('ABCABCABC','A','-');
+------------------------------+
| REPLACE('ABCABCABC','A','-') |
+------------------------------+
| -BC-BC-BC                    |
+------------------------------+
1 row in set (0.00 sec)

mysql> -- 比较字符串，>=< 分别返回 1,0,-1 STRCMP(S1,S2)

mysql> SELECT STRCMP('A','A'),STRCMP('A','B');
+-----------------+-----------------+
| STRCMP('A','A') | STRCMP('A','B') |
+-----------------+-----------------+
|               0 |              -1 |
+-----------------+-----------------+
1 row in set (0.00 sec)

mysql> -- 截取字符串 SUBSTRING（S，N，LEN）

mysql> SELECT SUBSTRING('AAAABBAAAA',3,2);
+-----------------------------+
| SUBSTRING('AAAABBAAAA',3,2) |
+-----------------------------+
| AA                          |
+-----------------------------+
1 row in set (0.00 sec)

mysql> -- 反转字符串 REVERSE(S)

mysql> SELECT REVERSE('ABC');
+----------------+
| REVERSE('ABC') |
+----------------+
| CBA            |
+----------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- 返回指定位置的字符串 ELT(N,S1,S2...)

mysql> SELECT ELT(2,'A','B');
+----------------+
| ELT(2,'A','B') |
+----------------+
| B              |
+----------------+
1 row in set (0.00 sec)

mysql> -- CURDATE(),CURRENT_DATE() 返回当前日期

mysql> SELECT CURDATE(),CURRENT_DATE();
+------------+----------------+
| CURDATE()  | CURRENT_DATE() |
+------------+----------------+
| 2017-02-15 | 2017-02-15     |
+------------+----------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- CURTIME(),CURRENT_TIME() 返回当前时间

mysql> SELECT CURTIME(),CURRENT_TIME();
+-----------+----------------+
| CURTIME() | CURRENT_TIME() |
+-----------+----------------+
| 13:54:05  | 13:54:05       |
+-----------+----------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- NOW() 返回当前时间和日期

mysql> SELECT NOW();
+---------------------+
| NOW()               |
+---------------------+
| 2017-02-15 13:54:05 |
+---------------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- MONTH(D)  返回月份的值

mysql> SELECT MONTH(NOW());
+--------------+
| MONTH(NOW()) |
+--------------+
|            2 |
+--------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- MONTHNAME(D) 返回月份的名字

mysql> SELECT MONTHNAME(NOW());
+------------------+
| MONTHNAME(NOW()) |
+------------------+
| February         |
+------------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- DAYNAME(D)  返回日期是几

mysql> SELECT DAYNAME(NOW());
+----------------+
| DAYNAME(NOW()) |
+----------------+
| Wednesday      |
+----------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- DAYOFWEEK(D) 返回一周内的第几天，0代表星期一

mysql> SELECT DAYOFWEEK(NOW());
+------------------+
| DAYOFWEEK(NOW()) |
+------------------+
|                4 |
+------------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- WEEKDAY(D) 返回日期是星期几，0代表星期一

mysql> SELECT WEEKDAY(NOW());
+----------------+
| WEEKDAY(NOW()) |
+----------------+
|              2 |
+----------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- WEEK(D) 一年中的第几个星期

mysql> SELECT WEEK(NOW());
+-------------+
| WEEK(NOW()) |
+-------------+
|           7 |
+-------------+
1 row in set (0.00 sec)

mysql> -- YEAR(D)返回年份值

mysql> SELECT YEAR(NOW());
+-------------+
| YEAR(NOW()) |
+-------------+
|        2017 |
+-------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- HOUR(T) 返回小时值

mysql> SELECT HOUR(NOW());
+-------------+
| HOUR(NOW()) |
+-------------+
|          13 |
+-------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- MINUTE(T) 返回分钟值

mysql> SELECT MINUTE(NOW());
+---------------+
| MINUTE(NOW()) |
+---------------+
|            58 |
+---------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- SECOND(T) 返回秒数

mysql> SELECT SECOND(NOW());
+---------------+
| SECOND(NOW()) |
+---------------+
|             6 |
+---------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- DATEDIFF(D1,D2) 计算两个日期之间间隔的天数

mysql> SELECT DATEDIFF('1996-1-1',NOW());
+----------------------------+
| DATEDIFF('1996-1-1',NOW()) |
+----------------------------+
|                      -7716 |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECDT * FROM student;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SELECDT * FROM student' at line 1
mysql> SELECT * FROM student;
ERROR 1046 (3D000): No database selected
mysql> USE cms;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql> SELECT * FROM student;
+----+----------+-------+
| id | username | score |
+----+----------+-------+
|  1 | KING1    |    95 |
|  2 | KING2    |    95 |
|  3 | KING3    |    95 |
|  4 | KING4    |    85 |
|  5 | KING5    |    75 |
|  6 | KING6    |    65 |
|  7 | KING7    |    55 |
|  8 | KING8    |    45 |
|  9 | KING9    |    35 |
+----+----------+-------+
9 rows in set (0.00 sec)

mysql> SELECT id,username,score,IF(score>=60,'及格','不及格') FROM student;

+----+----------+-------+------------------------------------+
| id | username | score | IF(score>=60,'及格','不及格')      |
+----+----------+-------+------------------------------------+
|  1 | KING1    |    95 | 及格                               |
|  2 | KING2    |    95 | 及格                               |
|  3 | KING3    |    95 | 及格                               |
|  4 | KING4    |    85 | 及格                               |
|  5 | KING5    |    75 | 及格                               |
|  6 | KING6    |    65 | 及格                               |
|  7 | KING7    |    55 | 不及格                             |
|  8 | KING8    |    45 | 不及格                             |
|  9 | KING9    |    35 | 不及格                             |
+----+----------+-------+------------------------------------+
9 rows in set (0.00 sec)

mysql> SELECT * FROM cms_user;
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
| id | username  | password     | email       | regTime    | face     | proId | age  | sex  |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
|  1 | 张三      | zhangsan     | user@qq.com | 1419811708 | user.jpg |     1 |   21 | 男   |
|  2 | 张三丰    | zhangsanfeng | user@qq.com | 1419812708 | user.jpg |     2 |   31 | 女   |
|  3 | 章子怡    | zhangziyi    | user@qq.com | 1419813708 | user.jpg |     2 |   43 | 男   |
|  4 | long      | long         | user@qq.com | 1419814708 | user.jpg |     4 |   41 | 女   |
|  5 | ring      | ring         | user@qq.com | 1419815708 | user.jpg |     2 |   52 | 男   |
|  6 | queen     | queen        | user@qq.com | 1419861708 | user.jpg |     3 |   66 | 女   |
|  8 | blek      | blek         | user@qq.com | 1419818708 | user.jpg |     1 |   95 | 女   |
|  9 | test1     | test1        | user@qq.com | 1419811708 | user.jpg |     1 | NULL | 男   |
+----+-----------+--------------+-------------+------------+----------+-------+------+------+
8 rows in set (0.00 sec)

mysql> SELECT id,username,age,IFNULL(age,'100') FROM cms_user;
+----+-----------+------+-------------------+
| id | username  | age  | IFNULL(age,'100') |
+----+-----------+------+-------------------+
|  1 | 张三      |   21 | 21                |
|  2 | 张三丰    |   31 | 31                |
|  3 | 章子怡    |   43 | 43                |
|  4 | long      |   41 | 41                |
|  5 | ring      |   52 | 52                |
|  6 | queen     |   66 | 66                |
|  8 | blek      |   95 | 95                |
|  9 | test1     | NULL | 100               |
+----+-----------+------+-------------------+
8 rows in set (0.00 sec)

mysql> SELECT id,username,CASE WHEN score>60 THEN 'very good!' WHEN score=60 THEN 'Just so so' WHEN score<60 THEN 'Your faild' FROM cms_user;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM cms_user' at line 1
mysql> SELECT id,username,CASE WHEN score>60 THEN 'very good!' WHEN score=60 THEN 'Just so so' ELSE 'YOUR FAILD' END FROM student;
+----+----------+--------------------------------------------------------------------------------------------+
| id | username | CASE WHEN score>60 THEN 'very good!' WHEN score=60 THEN 'Just so so' ELSE 'YOUR FAILD' END |
+----+----------+--------------------------------------------------------------------------------------------+
|  1 | KING1    | very good!                                                                                 |
|  2 | KING2    | very good!                                                                                 |
|  3 | KING3    | very good!                                                                                 |
|  4 | KING4    | very good!                                                                                 |
|  5 | KING5    | very good!                                                                                 |
|  6 | KING6    | very good!                                                                                 |
|  7 | KING7    | YOUR FAILD                                                                                 |
|  8 | KING8    | YOUR FAILD                                                                                 |
|  9 | KING9    | YOUR FAILD                                                                                 |
+----+----------+--------------------------------------------------------------------------------------------+
9 rows in set (0.00 sec)

mysql> -- VERSION()版本号

mysql> SELECT VERSION();
+-------------------------+
| VERSION()               |
+-------------------------+
| 5.7.17-0ubuntu0.16.10.1 |
+-------------------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- CONNECTION_ID() 服务器链接数

mysql> SELECT CONNECTION_ID();
+-----------------+
| CONNECTION_ID() |
+-----------------+
|               6 |
+-----------------+
1 row in set (0.01 sec)

mysql> 
mysql> -- DATABASE(),SCHEMA() 当前数据库

mysql> SELECT DATABASE(),SCHEMA();
+------------+----------+
| DATABASE() | SCHEMA() |
+------------+----------+
| cms        | cms      |
+------------+----------+
1 row in set (0.00 sec)

mysql> 
mysql> -- USER(),SYSTEM_USER() 当前用户 CURRENT_USER(),CURRENT_USER

mysql> SELECT USER(),SYSTEM_USER();
+----------------+----------------+
| USER()         | SYSTEM_USER()  |
+----------------+----------------+
| root@localhost | root@localhost |
+----------------+----------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- CHARSET(STR) 返回字符串STR的字符集

mysql> SELECT CHARSET('AAA');
+----------------+
| CHARSET('AAA') |
+----------------+
| utf8           |
+----------------+
1 row in set (0.00 sec)

mysql> 
mysql> -- COLLATION(STR)返回字符串STR的校验字符集

mysql> SELECT COLLATIOIN('AAA');
ERROR 1305 (42000): FUNCTION cms.COLLATIOIN does not exist
mysql> 
mysql> -- LAST_INSERT_ID() 返回最近生成的AUTO_INCREMENT

mysql> SELECT LAST_INSERT_ID();
+------------------+
| LAST_INSERT_ID() |
+------------------+
|                0 |
+------------------+
1 row in set (0.00 sec)

mysql> -- MD5(str) 信息摘要算法

mysql> SELECT MD5('ADMIN');
+----------------------------------+
| MD5('ADMIN')                     |
+----------------------------------+
| 73acd9a5972130b75066c82595a1fae3 |
+----------------------------------+
1 row in set (0.00 sec)

mysql> SELECT LENGTH(MD5('ADMIN'));
+----------------------+
| LENGTH(MD5('ADMIN')) |
+----------------------+
|                   32 |
+----------------------+
1 row in set (0.00 sec)

mysql> -- 查看当前系统的用户

mysql> SELECT * FROM user\G;
ERROR 1146 (42S02): Table 'cms.user' doesn't exist
ERROR: 
No query specified

mysql> SELECT * FROM user;
ERROR 1146 (42S02): Table 'cms.user' doesn't exist
mysql> SELECT * FROM USER;
ERROR 1146 (42S02): Table 'cms.USER' doesn't exist
mysql> SHOW TABLES;
+---------------+
| Tables_in_cms |
+---------------+
| cms_admin     |
| cms_cate      |
| cms_news      |
| cms_user      |
| department    |
| employee      |
| provinces     |
| scholarship   |
| student       |
| test1         |
| test2         |
+---------------+
11 rows in set (0.00 sec)

mysql> SELECT * FROM user\G;
ERROR 1146 (42S02): Table 'cms.user' doesn't exist
ERROR: 
No query specified

mysql> NO USE
    -> ;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'NO USE' at line 1
mysql> SELECT USER;
ERROR 1054 (42S22): Unknown column 'USER' in 'field list'
mysql> SELECT user;
ERROR 1054 (42S22): Unknown column 'user' in 'field list'
mysql> SELECT USERS();
ERROR 1305 (42000): FUNCTION cms.USERS does not exist
mysql> SELECT USER();
+----------------+
| USER()         |
+----------------+
| root@localhost |
+----------------+
1 row in set (0.00 sec)

mysql> SELECT USER()\G;
*************************** 1. row ***************************
USER(): root@localhost
1 row in set (0.00 sec)

ERROR: 
No query specified

mysql> SELECT PASSWORD('ROOT'),PASSWORD('king');
+-------------------------------------------+-------------------------------------------+
| PASSWORD('ROOT')                          | PASSWORD('king')                          |
+-------------------------------------------+-------------------------------------------+
| *B22C45ACDDE9E0292A04BD75767938A955E93D13 | *0C6F8A2CE8ABFD18609CCE4CDFAB3C15DAD20718 |
+-------------------------------------------+-------------------------------------------+
1 row in set, 2 warnings (0.00 sec)

mysql> SELECT CONV(33.33,10,16);
+-------------------+
| CONV(33.33,10,16) |
+-------------------+
| 21                |
+-------------------+
1 row in set (0.00 sec)

mysql> SELECT CONV(75.125,10,16);
+--------------------+
| CONV(75.125,10,16) |
+--------------------+
| 4B                 |
+--------------------+
1 row in set (0.00 sec)

mysql> SELECT CONV(75.125,16,10);
+--------------------+
| CONV(75.125,16,10) |
+--------------------+
| 117                |
+--------------------+
1 row in set (0.00 sec)

mysql> -- 创建普通索引

mysql> CREATE TABLE test4(
    -> id TINYINT UNSIGNED,
    -> username VARCHAR(20),
    -> INDEX in_id(id),
    -> KEY in_username(username)
    -> );
Query OK, 0 rows affected (0.46 sec)

mysql> SHOW CREATE TABLE test4;
+-------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table                                                                                                                                                                                       |
+-------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| test4 | CREATE TABLE `test4` (
  `id` tinyint(3) unsigned DEFAULT NULL,
  `username` varchar(20) DEFAULT NULL,
  KEY `in_id` (`id`),
  KEY `in_username` (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 |
+-------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> -- 创建唯一索引

mysql> CREATE TABLE test4(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> username VARCHAR(20) NOT NULL UNIQUE,
    -> card CHAR(18) NOT NULL,
    -> UNIQUE KEY uni_card(card)
    -> );
ERROR 1050 (42S01): Table 'test4' already exists
mysql> -- 创建唯一索引

mysql> CREATE TABLE test5(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> username VARCHAR(20) NOT NULL UNIQUE,
    -> card CHAR(18) NOT NULL,
    -> UNIQUE KEY uni_card(card)
    -> );
Query OK, 0 rows affected (0.40 sec)

mysql> SHOW CREATE TABLE test5;
+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table                                                                                                                                                                                                                                                                |
+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| test5 | CREATE TABLE `test5` (
  `id` tinyint(3) unsigned NOT NULL AUTO_INCREMENT,
  `username` varchar(20) NOT NULL,
  `card` char(18) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`),
  UNIQUE KEY `uni_card` (`card`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 |
+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> -- 创建全文索引

mysql> CREATE TABLE test6(
    -> id TINYINT UNSIGNED VATU_INCREMENT KEY,
    -> username VARCHAR(20) NOT NULL UNIQUE,
    -> userDesc VARCHAR(20) NOT NULL,
    -> FULLTEXT INDEX full_userDesc(userDesc)
    -> );
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VATU_INCREMENT KEY,
username VARCHAR(20) NOT NULL UNIQUE,
userDesc VARCHAR(20) N' at line 2
mysql> -- 创建全文索引

mysql> CREATE TABLE test6(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> username VARCHAR(20) NOT NULL UNIQUE,
    -> userDesc VARCHAR(20) NOT NULL,
    -> FULLTEXT INDEX full_userDesc(userDesc)
    -> );
Query OK, 0 rows affected (2.73 sec)

mysql> 
mysql> SHOW CREATE TABLE test6;
+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table                                                                                                                                                                                                                                                                                  |
+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| test6 | CREATE TABLE `test6` (
  `id` tinyint(3) unsigned NOT NULL AUTO_INCREMENT,
  `username` varchar(20) NOT NULL,
  `userDesc` varchar(20) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`),
  FULLTEXT KEY `full_userDesc` (`userDesc`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 |
+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> -- 创建单列索引

mysql> CREATE TABLE test7(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> test1 VARCHAR(20) NOT NULL,
    -> test2 VARCHAR(20) NOT NULL,
    -> test3 VARCHAR(20) NOT NULL,
    -> test4 VARCHAR(20) NOT NULL,
    -> INDEX in_test1(test1)
    -> );
Query OK, 0 rows affected (0.34 sec)

mysql> -- 创建多列索引

mysql> CREATE TABLE test7(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> test1 VARCHAR(20) NOT NULL,
    -> test2 VARCHAR(20) NOT NULL,
    -> test3 VARCHAR(20) NOT NULL,
    -> test4 VARCHAR(20) NOT NULL,
    -> INDEX mul_t1_t2_t3(test1,test2,test3)
    -> );
ERROR 1050 (42S01): Table 'test7' already exists
mysql> -- 创建多列索引

mysql> CREATE TABLE test8(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> test1 VARCHAR(20) NOT NULL,
    -> test2 VARCHAR(20) NOT NULL,
    -> test3 VARCHAR(20) NOT NULL,
    -> test4 VARCHAR(20) NOT NULL,
    -> INDEX mul_t1_t2_t3(test1,test2,test3)
    -> );
Query OK, 0 rows affected (0.36 sec)

mysql> -- 创建唯一性多列索引

mysql> CREATE TABLE test9(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> test1 VARCHAR(20) NOT NULL,
    -> test2 VARCHAR(20) NOT NULL,
    -> test3 VARCHAR(20) NOT NULL,
    -> test4 VARCHAR(20) NOT NULL,
    -> UNIQUE INDEX mul_t1_t2_t3(test1,test2,test3)
    -> );
Query OK, 0 rows affected (0.59 sec)

mysql> -- 创建空间索引

mysql> CREATE TABLE test10(
    -> id TINYINT UNSIGNED AUTO_INCREMENT KEY,
    -> test GEOMETRY NOT NULL,
    -> SPATIAL INDEX spa_test(test)
    -> )ENGINE=MyISAM;
Query OK, 0 rows affected (0.06 sec)

mysql> -- 删除普通索引

mysql> DROP INDEX in_id ON test4;
Query OK, 0 rows affected (0.22 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> DROP INDEX in_username ON test4;
Query OK, 0 rows affected (0.19 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> -- 创建索引

mysql> CREATE INDEX in_id ON test4;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1
mysql> -- 创建索引

mysql> CREATE INDEX in_id ON test4(id);
Query OK, 0 rows affected (0.27 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> ALTER TABLE test4 ADD INDEX in_username(username);
Query OK, 0 rows affected (0.27 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> -- 删除唯一索引

mysql> ALTER TABLE test4 DROP INDEX uni_card;
ERROR 1091 (42000): Can't DROP 'uni_card'; check that column/key exists
mysql> ALTER TABLE test5 DROP INDEX uni_card;
Query OK, 0 rows affected (0.22 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> DROP INDEX username ON test5;
Query OK, 0 rows affected (0.28 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> -- 创建唯一索引

mysql> CREATE UNIQUE INDEX uni_card(card) ON test5;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(card) ON test5' at line 1
mysql> CREATE UNIQUE INDEX uni_card ON test5(id);
Query OK, 0 rows affected (0.24 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> ALTER TABLE test5 ADD UNIQUE INDEX in_username(username);
Query OK, 0 rows affected (0.24 sec)
Records: 0  Duplicates: 0  Warnings: 0

```
